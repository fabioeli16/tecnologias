<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Fractal Glass Header — Demo</title>
  <style>
    :root{
      --accent-1: rgba(124, 58, 237, 0.85);
      --accent-2: rgba(16, 185, 129, 0.9);
      --glass-bg: rgba(255,255,255,0.06);
      --glass-border: rgba(255,255,255,0.12);
      --text: rgba(255,255,255,0.95);
      color-scheme: dark;
    }
    html,body{height:100%;margin:0;font-family:Inter, ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial}
    .hero{
      position:relative;
      min-height:70vh;
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
      background: linear-gradient(180deg,#071026 0%, #0b1220 50%, #071026 100%);
    }
    /* full-bleed svg pattern */
    .fractal-bg{
      position:absolute;inset:0;z-index:0;pointer-events:none;
      mix-blend-mode:screen;opacity:0.9;
    }

    /* glass card */
    .glass{
      position:relative;z-index:2;
      width:min(1100px,92%);
      padding:3rem;
      border-radius:18px;
      border:1px solid var(--glass-border);
      background: linear-gradient(135deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
      backdrop-filter: blur(10px) saturate(140%);
      -webkit-backdrop-filter: blur(10px) saturate(140%);
      box-shadow: 0 8px 40px rgba(2,6,23,0.6), inset 0 1px 0 rgba(255,255,255,0.02);
      display:grid;grid-template-columns:1fr 360px;gap:2rem;align-items:center;
      border-radius:20px;
    }
    .glass .left h1{
      margin:0 0 .5rem 0;font-size:clamp(28px,4.5vw,48px);line-height:1.02;color:var(--text);
      background: linear-gradient(90deg,var(--accent-1),var(--accent-2));
      -webkit-background-clip: text;background-clip:text;color:transparent;
      text-shadow:0 8px 40px rgba(0,0,0,0.6);
    }
    .glass .left p{margin:0;color:rgba(255,255,255,0.85);opacity:0.9}
    .cta{display:flex;gap:12px;align-items:center;margin-top:1.4rem}
    .btn{padding:12px 18px;border-radius:12px;border:0;cursor:pointer;font-weight:600}
    .btn-primary{background:linear-gradient(90deg,var(--accent-1),var(--accent-2));color:white;box-shadow:0 6px 22px rgba(80,40,140,0.18)}
    .btn-ghost{background:transparent;border:1px solid rgba(255,255,255,0.08);color:rgba(255,255,255,0.9)}

    /* right column preview */
    .preview{
      padding:1.2rem;border-radius:12px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.03)
    }
    .preview .mock{
      height:220px;border-radius:10px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));display:flex;align-items:center;justify-content:center;color:rgba(255,255,255,0.9);font-weight:600
    }

    /* subtle parallax for glass */
    .glass[data-tilt]{transition:transform .12s cubic-bezier(.2,.9,.2,1);will-change:transform}

    /* responsiveness */
    @media (max-width:880px){
      .glass{grid-template-columns:1fr;}
      .preview{order:-1}
    }
  </style>
</head>
<body>
  <header class="hero">
    <!-- SVG fractal-noise + displacement used for animated fractal glass effect -->
    <svg class="fractal-bg" viewBox="0 0 900 600" preserveAspectRatio="xMidYMid slice" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
      <defs>
        <filter id="fractal" x="-20%" y="-20%" width="140%" height="140%">
          <!-- fractal noise -->
          <feTurbulence id="turb" type="fractalNoise" baseFrequency="0.9" numOctaves="4" seed="12" stitchTiles="stitch" result="noise" />
          <!-- animated displacement to get flowing effect -->
          <feDisplacementMap id="disp" in="SourceGraphic" in2="noise" scale="40" xChannelSelector="R" yChannelSelector="G" result="disp" />
          <!-- colorize the noise -->
          <feColorMatrix type="matrix" values="0 0 0 0 0.2  0 0 0 0 0.05  0 0 0 0 0.35  0 0 0 0.8" in="noise" result="colorNoise" />
          <!-- composite to overlay colored noise -->
          <feBlend in="SourceGraphic" in2="colorNoise" mode="screen" result="screened" />
        </filter>

        <!-- a soft radial gradient for extra depth -->
        <radialGradient id="vign" cx="30%" cy="25%" r="80%">
          <stop offset="0%" stop-color="rgba(124,58,237,0.25)" />
          <stop offset="55%" stop-color="rgba(16,185,129,0.12)" />
          <stop offset="100%" stop-color="rgba(2,6,23,0.9)" />
        </radialGradient>
      </defs>

      <!-- main fractal layer: a full rect that uses filter to produce animated texture -->
      <rect width="100%" height="100%" fill="url(#vign)" filter="url(#fractal)" />
      <!-- an additional subtle overlay to add contrast -->
      <rect width="100%" height="100%" fill="rgba(0,0,0,0.15)" />
    </svg>

    <div class="glass" data-tilt>
      <div class="left">
        <h1>Fractal Glass — Modern header effect</h1>
        <p>Combines SVG fractal-noise with a frosted-glass card and subtle parallax to create depth and motion. Works without WebGL.</p>
        <div class="cta">
          <button class="btn btn-primary">Get started</button>
          <button class="btn btn-ghost">Learn more</button>
        </div>
      </div>
      <div class="preview">
        <div class="mock">Product preview</div>
      </div>
    </div>
  </header>

  <script>
    // Animate the feTurbulence baseFrequency to create slowly evolving fractal noise
    const turb = document.getElementById('turb');
    let t = 0;
    function animateNoise(){
      // use multiple sin/cos to create a non-repeating gentle evolution
      t += 0.008;
      const f1 = 0.6 + Math.sin(t * 0.8) * 0.18; // horizontal frequency
      const f2 = 0.4 + Math.cos(t * 0.7) * 0.12; // vertical frequency
      // update baseFrequency
      turb.setAttribute('baseFrequency', `${Math.abs(f1).toFixed(4)} ${Math.abs(f2).toFixed(4)}`);
      // also slightly change seed over time for bigger variation
      turb.setAttribute('seed', Math.floor(10 + Math.abs(Math.sin(t*0.4))*200));
      requestAnimationFrame(animateNoise);
    }
    requestAnimationFrame(animateNoise);

    // Parallax / tilt effect on mouse move for the glass card
    const glass = document.querySelector('.glass');
    const rect = glass.getBoundingClientRect();
    window.addEventListener('mousemove', e=>{
      const cx = rect.left + rect.width/2;
      const cy = rect.top + rect.height/2;
      const dx = (e.clientX - cx) / rect.width; // -0.5..0.5
      const dy = (e.clientY - cy) / rect.height;
      const rotX = clamp(-dy * 10, -12, 12);
      const rotY = clamp(dx * 10, -12, 12);
      const translate = `perspective(900px) rotateX(${rotX}deg) rotateY(${rotY}deg) translateZ(2px)`;
      glass.style.transform = translate;
    });
    window.addEventListener('mouseleave', ()=> glass.style.transform = '');
    function clamp(v,a,b){return Math.max(a,Math.min(b,v));}

    // small L/R drift for the fractal svg to make it feel alive
    const svg = document.querySelector('.fractal-bg');
    let phase = 0;
    function drift(){
      phase += 0.0008;
      const x = Math.sin(phase*1.3) * 6; // px
      const y = Math.cos(phase*0.9) * 4;
      svg.style.transform = `translate(${x}px,${y}px) scale(1.02)`;
      requestAnimationFrame(drift);
    }
    requestAnimationFrame(drift);

    // Accessibility tip: pause animation for users who prefer reduced motion
    const mq = window.matchMedia('(prefers-reduced-motion: reduce)');
    if(mq.matches){
      // stop animations
      turb.setAttribute('baseFrequency','0.6 0.45');
      turb.setAttribute('seed','12');
      // cancel visual drift
      svg.style.transform = '';
      window.removeEventListener('mousemove', ()=>{});
    }
  </script>
</body>
</html>
